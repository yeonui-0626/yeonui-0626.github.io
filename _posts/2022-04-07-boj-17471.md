---
layout: post
title: "[BOJ] 백준 17471 번 게리맨더링 "
subtitle:
categories: Algorithm
tags: [boj, bfs, 부분집합]
---

## 백준 17471 번 게리맨더링

[문제보기](https://www.acmicpc.net/problem/17471)

### 1. 문제 풀이

- 입력은 각 정점(구역)의 인접 정점 리스트이다.
- 구역의 수 N 이 최대 10이라서 인접 행렬로 그래프를 표현했다.
- 구역들의 두 개의 선거구로 나눠야한다.
  - 이때 임의로 A 선거구 , B 선거구로 나눈다고 가정한다.
- 선거구를 나눌 때는 부분집합을 이용한다.
  -  [선택되고, 선택 안되고] 두가지로 구분되므로 `boolean[] selected`을 선언하여 각 구역의 상태를 저장한다.
  - 구역을 A 선거구에 넣는다면 `true`로 표시한다.
  - 자연스럽게 B 선거구는 `false`가 된다.
- 부분집합이 완성되었으면 각 선거구의 구역들이 서로 연결되어있는지 확인한다. **=> BFS로 그래프 탐색**
  - 그래프 탐색할 때, 연결되어있는지 확인해야하고 **같은 선거구인지도 반드시 확인하야한다.**
  - `adj[current][n] == 1` : 연결되어있는지
  - `selected[n] == state)` : 같은 선거구인지(bfs 매개변수 state로 어떤 선거구인지 확인함 )
- 이렇게 모든 선거구가 방문되어야 해당 부분집합으로 선거구를 만들 수 있다.
- 선거구를 만들 수 있다면 각 선거구의 인구 합을 구한다.

### 시행착오

- 선거구 구역의 연결성 확인
  - 연결되어 있는지 확인하지 위해 그래프를 탐색해야한다는 건 알겠는데 뭔가 추가적인 연산을 하면 시간초과가 날 것 같아 선거구가 연결되어있으면 같은 root 로 표시하는 방법으로 구현했는데 이 방법으로는 해결하지 못했다
  - 그래서 백준의 질문 게시판을 보고 BFS로 확인하는 거 구나 함 ! 
- BFS, 언제 탐색하나 ?
  - 처음에 그냥 연결되있는 것만 확인을 하면 되는 줄 알았다.
  - 연결되있는 거 뿐만 아니라 같은 선거구인지 확인해야한다.
    - **__BFS 탐색 조건을 잘 생각해야한다.__**

### 2. 코드

<script src="https://gist.github.com/yeonui-0626/328363f380de460c0a4ca4f968220aaa.js"></script>

