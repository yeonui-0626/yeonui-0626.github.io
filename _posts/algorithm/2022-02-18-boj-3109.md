---
layout: post
title:  "[BOJ] 백준 3109번 빵집"
subtitle: 
categories: Algorithm
tags: [boj, 백트래킹, 재귀]
---


## 백준 3109번 빵집

### 문제풀이

빵집 문제는 백트래킹문제입니다.    
백트래킹... 사실 아직 뭔지 잘 모르겠어요.    
얻고자 하는 결과를 얻을 때까지 모든 경우의 수을 시도하는 알고리즘이라고 합니다.    

>모든 경우의 수를 시도하면 완전탐색 알고리즘들이랑 뭐가 다를까영 ?     

백트래킹은 가능한 모든 경우의 수를 시도하는데 !     
<span style='background-color:#fff5b1'>해당 경우로 더이상 얻고자하는 해를 얻을 수 없다면 경우의 수 후보에서 제외</span>합니다.     
이를 가지치기라고 해요.
그래서 백트래킹 문제는 가지치기를 어떻게 하느냐에 따라 시간을 많이 줄일 수 있습니다.     

문제 조건은 다음과 같습니다.
1. 0열은 빵집 ! 여기서 파이프가 시작한다.
2. 파이프는 우상, 우, 우하 방향으로 갈 수 있다.
3. 마지막 열까지 파이프를 설치 할 수 있으면 설치 성공!
4. 건물(x)에는 파이프를 놓을 수 없음 ! 
5. 한칸에 하나의 파이프만 놓을 수 있고, 파이프는 겹칠 수 없다 ! 


로직을 생각해보면
1. 0행에서 하나를 설치한다.
2. 우상, 우, 우하 중 한 방향으로 이동한다.     
    2-1. 이동할 수 있다면 이동    
    2-2. 이동할 수 없다면 다음 방향 확인    
    2-3. 모든 방향을 확인했다면 그 위치는 탐색 끝    
3. 이동하면 파이프 설치
4. 마지막행(원웅이네) 도착했다면 설치 성공 !     
    4-1. 설치한 파이프 표시(파이프는 겹칠 수 없기때문에 건물과 동일하게 x 표시)    

재귀 탈출 조건은 마지막행에 도달했는지로 확인하는 것으로 하고,       
파이프를 이동할 때마다 재귀함수를 호출해서 파이프 설치, 다음칸으로 이동하는 코드를 작성했습니다.    
이동을 할때는 이동가능 여부(배열 범위를 벗어나지 않는지 && 파이프를 설치할 수 있는지)를 확인한 후 이동시켜서    
재귀 함수 호출 횟수를 줄였어요.

처음엔 파이프 설치 위치를 따로 배열을 선언해서 저장해두고, 마지막행에 도착했을때 파이프 설치를 표시했는데     
이렇게 하니까 추가적인 for문 사용으로 시간초과가 나더라구요.    

그리고 저는 아무생각없이 우상->우->우하 방향으로 파이프를 설치했는데   
최대한 많은 파이프를 설치해야하기 때문에 우상->우->우하 방향 순서로 이동해야한다고 합니다 !           

### 코드

<script src="https://gist.github.com/yeonui-0626/94c841ca0f6291326ecb41ea050da69b.js"></script>